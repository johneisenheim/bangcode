function Motion(){function e(e){if(e.success){var p=e.userAcceleration;xAcc=p.y;var f=e.attitude;n=f.pitch,s=f.roll,a=f.yaw,r&&(n>=-2.25&&-.25>n&&s>=.9&&2.5>s?(c=a,Ti.App.fireEvent("position",{what:!0})):Ti.App.fireEvent("position",{what:!1})),t.imInStarting?n>=-.4&&.4>n&&s>=1.2&&1.7>s&&(o?a>=.7&&1.25>a?(Ti.API.info("Bang!"),d.play(),t.imInStarting=!1,i.stopDeviceMotionUpdates(),endTime=new Date,diffTime=endTime-startTime,Ti.App.fireEvent("timeExchange",{flag:0,acceleration:xAcc}),u=!1):(l.play(),Ti.API.info("Missed!"),t.imInStarting=!1,endTime=new Date,diffTime=endTime-startTime,i.stopDeviceMotionUpdates(),Ti.App.fireEvent("timeExchange",{flag:999999999,acceleration:xAcc}),u=!1):(Ti.API.info("Fault!"),m.play(),o=!1,t.imInStarting=!1,i.stopDeviceMotionUpdates(),endTime=new Date,diffTime=endTime-startTime,Ti.App.fireEvent("timeExchange",{flag:888888888,acceleration:xAcc}),u=!1)):Ti.API.info("im in starting Ã¨ false")}else e.error&&Ti.API.error(e.error)}var i=require("ti.coremotion"),t={};t.imInStarting=!1;var n,s,a,o=!1,r=!0,c=0,u=!0,d=ZLSound.createSample({media:"music/colt_shot.mp3",volume:1}),l=ZLSound.createSample({media:"music/missed.mp3",volume:1}),m=ZLSound.createSample({media:"music/fault.mp3",volume:1});return t.startMotionRecognizer=function(){if(i.isDeviceMotionAvailable()){i.setDeviceMotionUpdateInterval(50);var t=(i.availableAttitudeReferenceFrames(),i.ATTITUDE_REFERENCE_FRAME_X_ARBITRARY_CORRECTED_Z_VERTICAL);i.startDeviceMotionUpdatesUsingReferenceFrame({referenceFrame:t},e)}},t.stopMotionRecognizer=function(){i.stopDeviceMotionUpdates(),Ti.API.info("Motion updates stop")},Ti.App.addEventListener("user_can_fire",function(){o=!0,r=!1}),t}module.exports=Motion;