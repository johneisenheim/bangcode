function FacebookHandler(){var i={},e=require("com.facebook");return e.permissions=["public_profile","user_friends","email"],e.addEventListener("login",function(i){i.success?(Ti.API.info("login success: "+JSON.stringify(i.data)),Titanium.App.Properties.setBool("user_logged",1),Titanium.App.Properties.setString("fb_id",i.data.id),Titanium.App.Properties.setString("fb_last_name",i.data.last_name),Titanium.App.Properties.setString("fb_first_name",i.data.fb_first_name),Titanium.App.Properties.setString("fb_mail",i.data.email),Ti.API.info("Actual permissions: "+JSON.stringify(e.permissions)),global.startApplication()):i.cancelled?Ti.API.info("login cancelled"):i.error&&Ti.API.info(i.error)}),e.addEventListener("logout",function(){}),i.logMeIn=function(){e.authorize()},i.getInvitableFriends=function(){e.requestWithGraphPath("me/friends",{},"GET",function(i){alert(i.success?i.result:i.error?i.error:"Unknown response")})},e.initialize(6e3,!0),i.logMeOut=function(){e.logout()},i}module.exports=FacebookHandler;