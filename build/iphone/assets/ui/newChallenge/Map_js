function Map(){var t=require("ti.map"),e=Titanium.UI.createButton({systemButton:Ti.UI.iPhone.SystemButton.DONE});e.addEventListener("click",function(){o.close()});var i=Titanium.UI.createWindow({navTintColor:"white",tintColor:"#E2BB5A",barColor:"#E2BB5A",extendEdges:[Ti.UI.EXTEND_EDGE_TOP],backgroundColor:"#F5F4F2",translucent:!0,statusBarStyle:Titanium.UI.iPhone.StatusBar.LIGHT_CONTENT,layout:"composite",tabBarHidden:!0,rightNavButton:e}),o=Ti.UI.iOS.createNavigationWindow({modal:!0,modalTransitionStyle:Ti.UI.iPhone.MODAL_TRANSITION_STYLE_CROSS_DISSOLVE,modalStyle:Ti.UI.iPhone.MODAL_PRESENTATION_FORMSHEET,window:i});o.latitude="",o.longitude="";var n=t.createView({mapType:t.NORMAL_TYPE,animate:!0,regionFit:!0,userLocation:!0});i.add(n);var a=function(t,e,i){var o=t.region;Ti.API.info(o.latitudeDelta);var n=-o.latitudeDelta/t.rect.height,a=o.longitudeDelta/t.rect.width;return{lat:(i-t.rect.height/2)*n+o.latitude,lon:(e-t.rect.width/2)*a+o.longitude}},r=t.createAnnotation({pincolor:t.ANNOTATION_RED,draggable:!0});return n.addEventListener("longpress",function(t){var e=a(n,t.x,t.y);o.latitude=e.lat,o.longitude=e.lon,r.latitude=e.lat,r.longitude=e.lon,n.addAnnotation(r)}),o.isLocationSet=function(){return""===o.latitude&&""===o.longitude?!1:{latitude:o.latitude,longitude:o.longitude}},o}function getCords(t){var e=t.source.actualRegion||t.source.region,i=t.source.rect.width,o=t.source.rect.height,n=-e.latitudeDelta/o,a=e.longitudeDelta/i,r={lat:(t.y-o/2)*n+e.latitude,lon:(t.x-i/2)*a+e.longitude};return r}module.exports=Map;